<h1 class="page-title">Update Password</h1>

<div class="grid">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h4>Update Password</h4>
      </div>

      <form [formGroup]="updatePasswordForm" (ngSubmit)="onSubmit()">
        <div class="card-body">
          <!-- Current Password -->
          <div class="row mb-3">
            <div class="col-4">
              <label for="currentPassword">Current Password *</label>
            </div>
            <div class="col-8">
              <input
                pInputText
                type="password"
                id="currentPassword"
                formControlName="currentPassword"
                [class.ng-invalid]="isFieldInvalid('currentPassword')"
                class="w-full" />
              <small class="p-error" *ngIf="isFieldInvalid('currentPassword')">
                {{ getFieldError('currentPassword') }}
              </small>
            </div>
          </div>

          <!-- New Password -->
          <div class="row mb-3">
            <div class="col-4">
              <label for="newPassword">New Password *</label>
            </div>
            <div class="col-8">
              <input
                pInputText
                type="password"
                id="newPassword"
                formControlName="newPassword"
                [class.ng-invalid]="isFieldInvalid('newPassword')"
                class="w-full" />
              <small class="p-error" *ngIf="isFieldInvalid('newPassword')">
                {{ getFieldError('newPassword') }}
              </small>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="row mb-3">
            <div class="col-4">
              <label for="confirmPassword">Confirm Password *</label>
            </div>
            <div class="col-8">
              <input
                pInputText
                type="password"
                id="confirmPassword"
                formControlName="confirmPassword"
                [class.ng-invalid]="isFieldInvalid('confirmPassword')"
                class="w-full" />
              <small class="p-error" *ngIf="isFieldInvalid('confirmPassword')">
                {{ getFieldError('confirmPassword') }}
              </small>
            </div>
          </div>
        </div>

        <div class="card-footer">
          <div class="row">
            <div class="col-4"></div>
            <div class="col-8">
              <p-button
                type="submit"
                label="Update Password"
                icon="pi pi-check"
                [loading]="loading"
                styleClass="p-button-primary mr-2">
              </p-button>

              <p-button
                type="button"
                label="Cancel"
                icon="pi pi-times"
                styleClass="p-button-secondary"
                routerLink="/profile">
              </p-button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<p-toast></p-toast>
