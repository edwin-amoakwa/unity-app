<div class="row">
  <!-- Create Sender ID Form -->
  <div class="col-sm-12 mb-4">
    <app-card cardTitle="Create Sender ID">
      <form [formGroup]="senderIdForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="application" class="form-label">Application</label>
          <p-dropdown
            id="application"
            formControlName="applicationId"
            [options]="applications"
            optionLabel="appName"
            optionValue="id"
            styleClass="w-full">
          </p-dropdown>
        </div>
        <div class="mb-3">
          <label for="senderId" class="form-label">Sender ID</label>
          <input
            type="text"
            class="form-control"
            id="senderId"
            formControlName="senderId"
            maxlength="11">
        </div>
        <div class="mb-3">
          <label for="senderId" class="form-label">Authorization Letter</label>
          <input (change)="onFileChange_authLetter($event)" class="form-control" type="file">
        </div>
        <div class="mb-3">
          <label for="senderId" class="form-label">Business Registration Document / Ghana Card</label>
          <input (change)="onFileChange_bizDoc($event)" class="form-control" type="file">
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="!senderIdForm.valid">
          Create Sender ID
        </button>
      </form>
    </app-card>
  </div>

  <!-- Sender IDs List Table -->
  <div class="col-sm-12">
    <app-card cardTitle="Sender IDs List">
      <p-table [value]="senderIds" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
               currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
               [tableStyle]="{'min-width': '50rem'}" styleClass="p-datatable-gridlines">
        <ng-template pTemplate="header">
          <tr>
            <th>App</th>
            <th>Sender ID</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-sender>
          <tr>
            <td>{{ sender.appName }}</td>
            <td>{{ sender.senderId }}</td>
            <td>
              <p-tag
                [value]="sender.idStatusName"
                [severity]="sender.idStatus === 'ACTIVE' ? 'success' : sender.idStatus === 'PENDING' ? 'warning' : 'secondary'">
              </p-tag>
            </td>
            <td>
              <p-button icon="pi pi-trash" severity="danger" pTooltip="Delete" (click)="deleteSenderId(sender)"/>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="5" class="text-center text-muted py-3">
              No sender IDs found. Create one using the form above.
            </td>
          </tr>
        </ng-template>
      </p-table>
    </app-card>
  </div>
</div>
